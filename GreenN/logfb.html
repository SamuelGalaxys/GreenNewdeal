 <html>

 <head>
     <title>Sign up with facebook</title>
     <!--Sign up with Facebook. Copyright@Facebook 2021.-->



     <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <link rel="stylesheet" href="registerfb.css">
     <title>Sign in</title>
 </head>

 <body>
     <div class="main">
         <img class="facebook" src="http://static1.squarespace.com/static/5b1590a93c3a53e49c6d280d/t/5b1aeb05aa4a99b2fb8d8d5e/1528490762005/facebook-icon-logo-C61047A9E7-seeklogo.com.png?format=1500w" alt="" style="display: block; margin: 0 auto" width="60" height="60" align>

         <p class="sign" align="center">Facebook을 이용하여 가입하기</p>
         <form class="form1">

             <fb:login-button scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>
             <div id="status"></div>
             <div id="userInfo"></div>


         </form>
     </div>





     <!--Facebook database. Copyright@Facebook 2021 -->
     <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
     <script src="js/regfb.js"></script>


     <script>
         









         function statusChangeCallback(response) {
             console.log('statusChangeCallback');
             console.log(response);
             if (response.status === 'connected') {
                 alert("로그인 되었습니다.")
                 $('#status').after('<button id="logout">로그아웃</button>');
                 testAPI();
             } else {
                 document.getElementById('status').innerHTML = 'Please log ' +
                     'into this app.';
             }
         }

         function checkLoginState() {
             FB.getLoginStatus(function (response) {
                 statusChangeCallback(response);
             });
         }

         window.fbAsyncInit = function () {
             FB.init({
                 appId: '{699846907368680}',
                 cookie: true,
                 xfbml: true,
                 version: '{v9.0}'
             });

             FB.getLoginStatus(function (response) {
                 statusChangeCallback(response);
             });

         };

         (function (d, s, id) {
             var js, fjs = d.getElementsByTagName(s)[0];
             if (d.getElementById(id)) return;
             js = d.createElement(s); js.id = id;
             js.src = "https://connect.facebook.net/en_US/sdk.js";
             fjs.parentNode.insertBefore(js, fjs);
         }(document, 'script', 'facebook-jssdk'));

         function testAPI() {
             console.log('Welcome!  Fetching your information.... ');
             FB.api('/me', { fields: 'email,name' }, function (response) {
                 console.log('Successful Name: ' + response.name);
                 console.log('Successful Email: ' + response.email);

                 //javascript형식 문자열 추가하기
                 document.getElementById('status').innerHTML =
                     '페이스북 로그인되었습니다. ' + response.name + '님!';

                 //jQuery형 문자열 추가하기
                 $('#userInfo').html("이름 : " + response.name + " 메일 :" + response.email);

             });
         }

         $(document).on("click", "#logout", function () {
             FB.logout(function (response) {
                 // Person is now logged out
                 alert("로그아웃 되었습니다.");
                 location.reload();
             });
         });


     </script>



 </body>

</html>